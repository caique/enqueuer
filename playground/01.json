{
  "requisitionVersion": "01.00.00",
  "timeout": 30000,
  "subscriptions": [
    {
      "type": "http-server",
      "endpoint": "/enqueuer",
      "port": "{{httpPort}}",
      "method": "POST",
      "response": {
        "status": 200
      },
      "onMessageReceived": "test['works'] = JSON.parse(message).enqueuer === '{{httpPayload}}'; persistSessionVariable('sessionKey', JSON.parse(message).sessionVar);",
      "timeout": 10000
    }
  ],
  "startEvent": {
    "publisher": {
      "type": "http-client",
      "url": "http://localhost:{{httpPort}}/enqueuer",
      "method": "POST",
      "payload": {
        "enqueuer": "{{httpPayload}}",
        "sessionVar": "someValue"
      },
      "headers": {
        "content-type": "application/json"
      }

    }
  }
}