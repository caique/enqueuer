{
  "$id": "https://github.com/lopidio/enqueuer/publisher/amqp",
  "type": "object",
  "properties": {
    "type": {
      "const": "amqp"
    },
    "exchange": {
      "type": "string"
    },
    "routingKey": {
      "type": "string"
    },
    "options": {
      "type": "object",
      "title": "Options object defined here: https://github.com/postwait/node-amqp#connection-options-and-url",
      "properties": {
        "host": {
          "type": "string",
          "title": "server address",
          "default": "localhost",
          "examples": [
            "localhost",
            "github.com/lopidio"
          ]
        },
        "port": {
          "type": ["integer", "string"],
          "title": "server port",
          "default": 5672,
          "examples": [
            5672,
            23075
          ]
        },
        "login": {
          "type": "string",
          "title": "",
          "default": "guest"
        },
        "password": {
          "type": "string",
          "title": "",
          "default": "guest"
        },
        "connectionTimeout": {
          "type": ["integer", "string"],
          "title": "",
          "default": 1000
        },
        "authMechanism": {
          "type": "string",
          "title": "",
          "default": "AMQPLAIN"
        },
        "vhost": {
          "type": "string",
          "title": "",
          "default": "/"
        },
        "noDelay": {
          "type": "boolean",
          "title": "",
          "default": true
        },
        "ssl": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "keyFile": {
              "type": "string",
              "default": "/path/to/key/file/in/pem"
            },
            "certFile": {
              "type": "string",
              "default": "/path/to/cert/file/in/pem"
            },
            "caFile": {
              "type": "string",
              "default": "/path/to/cacert/file/in/pem"
            },
            "rejectUnauthorized": {
              "type": "boolean",
              "default": true
            }
          }
        }
      },
      "required": [
        "host",
        "port"
      ]
    },
    "messageOptions": {
      "type": "object",
      "title": "is an object with any of the following https://github.com/postwait/node-amqp#exchangepublishroutingkey-message-options-callback"
    }
  },
  "required": [
    "exchange",
    "routingKey",
    "options"
  ]
}
