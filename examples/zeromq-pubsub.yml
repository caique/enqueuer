name: zero-mq test description
id: zeromq-pubsub
runnables:
- name: requisition description
  timeout: 5000
  startEvent:
    publisher:
      type: zero-mq-pub
      name: publisher
      address: <<zeroMqAddress>>
      payload: enqueuer zeroes
      topic: topic.enqueuer.virgs
  subscriptions:
  - name: subscription description
    type: zero-mq-sub
    address: <<zeroMqAddress>>
    topic: topic.enqueuer.virgs
    onMessageReceived:
      assertions:
      - name: topic
        expected: topic
        toBeEqualTo: `topic.enqueuer.virgs`
      - name: payload
        expected: payload
        toBeEqualTo: `enqueuer zeroes`
      - name: address
        expected: store.zeroMqAddress
        toBeEqualTo: `tcp://127.0.0.1:3000`