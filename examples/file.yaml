name: runnableFile
id: file
runnables:
- timeout: 3000
  name: file
  startEvent:
    publisher:
      type: file
      name: filePublisher
      payload: filePublisher
      filenamePrefix: temp/fileTest
      filenameExtension: file
      onInit:
        script: publisher.payload=new Date().getTime();
  subscriptions:
  - type: file-name-watcher
    name: fileSubscription
    fileNamePattern: temp/fileTest*file
    onMessageReceived:
      script: now = new Date().getTime();
      assertions:
      - name: Some time has passed
        expected: now
        isGreaterThanOrEqualTo: message.content
    timeout: 1000
