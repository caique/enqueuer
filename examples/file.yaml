runnableVersion: 01.00.00
name: runnableFile
id: file
initialDelay: 0
runnables:
- timeout: 3000
  name: file
  startEvent:
    publisher:
      type: file
      name: filePublisher
      payload: filePublisher
      filenamePrefix: temp/fileTest
      filenameExtension: file
      prePublishing: publisher.payload=new Date().getTime();
  subscriptions:
  - type: file-name-watcher
    name: fileSubscription
    fileNamePattern: temp/fileTest*file
    onMessageReceived: >-
      const now = new Date().getTime();
      message = JSON.parse(message);
      tester.isGreaterThanOrEqualTo('Some time has passed', now + '', message.content);
    timeout: 1000
