sion: 01.00.00
name: runnable0Mq
id: zeromq-pubsub
runnables:
- name: RequisitionZeroMq
  timeout: 5000
  subscriptions:
  - type: zero-mq-sub
    address: <<zeroMqAddress>>
    name: ZeroMqSub
    topic: topic.enqueuer.virgs
    onMessageReceived: |-
     tester.isEqualTo('0Mq is awesome topic', message.topic.toString(), 'topic.enqueuer.virgs');
     tester.isEqualTo('0Mq is awesome payload', message.payload.toString(), 'enqueuer zeroes');
     tester.isEqualTo('0Mq is awesome address', store.zeroMqAddress, 'tcp://127.0.0.1:3000');
  startEvent:
    publisher:
      type: zero-mq-pub
      name: ZeroMqPub
      address: <<zeroMqAddress>>
      payload: enqueuer zeroes
      topic: topic.enqueuer.virgs
