name: runnableUdpName
id: udp
runnables:
- name: udp
  startEvent:
    publisher:
      type: udp
      name: udpPublisher
      serverAddress: localhost
      port: '23070'
      payload: it
  subscriptions:
  - type: udp
    port: 23070
    name: udpSubscription
    timeout: 500
  onMessageReceived:
      script: |-
        console.log('uhul');
        const payload = Buffer.from(message.payload);
      tests:
      - label: Payload
        expected: payload.toString()
        isEqualTo: 'it'
      - label: Client Address
        expected: message.remoteInfo.address
        isGreaterThan: '127.0.0.1'