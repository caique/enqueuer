<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130648239-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-130648239-3');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Enqueuer documentation">
    <meta name="author" content="Virgs">
    <title>Almighty Enqueuer</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>
<style>

    :root {
        --nqr-color: #9FB630;
        --nqr-link: #309fb6;
        --nqr-text-color: #eeeeee;
        --nqr-text-smooth-color: #a4a4a4;
        --nqr-header-background-color: #2b2a2e;
        --nqr-background-color: #353535;
        --nqr-background-alternative-color: #424242;
        --nqr-code-color: #e83e8c;
    }

    .enqueuer-name, .hljs-attr {
        color: var(--nqr-color);
    }

    a {
        color: var(--nqr-link);
    }

    .dollar-sign {
        padding-left: 3px;
        color: var(--nqr-code-color);
    }

    body {
        background-color: var(--nqr-background-color);
        text-align: justify;
    }

    p {
        color: var(--nqr-text-smooth-color);
    }

    h1, h2, h6, strong {
        color: var(--nqr-text-color);
    }

    h3, h4, h5 {
        color: var(--nqr-color);
        font-size: 2.5em;
        text-transform: capitalize;
        font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;;
        letter-spacing: 2px;
    }

    h4 {
        font-size: 1.75em;
    }

    h5 {
        font-size: 1.2em;
    }

    pre {
        border: 1px solid var(--nqr-background-alternative-color);
        padding: 10px 20px;
        border-radius: 8px;
        font-family: "Source Code Pro", monospace;
        font-size: .9em;
        background-color: var(--nqr-header-background-color);
        line-height: 1.45;
        word-wrap: break-word;
        color: var(--nqr-text-color);
    }

    code {
        padding: 5px 0 2px;
        background-color: var(--nqr-header-background-color);
    }

    hr {
        background-color: var(--nqr-background-alternative-color);
        margin-top: 2rem;
        margin-bottom: 5rem;
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, .1);
        height: 2px;
    }

    .nqr-logo {
        transition: 250ms all ease;
        position: absolute;
        top: 8px;
        left: 8px;
        width: 25px;
        height: auto;
    }

    .nqr-logo:hover {
        transform: scale(1.55) rotate(180deg);
    }

    .npm-badges-container {
        display: none;
    }

    @media (min-width: 1000px) {
        .npm-badges-container {
            display: block;
        }
    }

    .github-corner:hover .octo-arm {
        animation: octocat-wave 560ms ease-in-out;
    }


    @keyframes octocat-wave {
        0%, 100% {
            transform: rotate(0)
        }
        20%, 60% {
            transform: rotate(-25deg)
        }
        40%, 80% {
            transform: rotate(10deg)
        }
    }

    @media (max-width: 500px) {
        .github-corner:hover .octo-arm {
            animation: none
        }

        .github-corner .octo-arm {
            animation: octocat-wave 560ms ease-in-out
        }
    }
</style>

<a href="http://github.com/enqueuer-land/enqueuer" class="github-corner" aria-label="View source on GitHub">
    <svg width="80" height="80" viewBox="0 0 250 250"
         style="fill:var(--nqr-color); color: var(--nqr-background-color); position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>

<div class="container">
    <a class="float-left" href="http://github.com/enqueuer-land/enqueuer">
        <img class="nqr-logo"
             src="https://raw.githubusercontent.com/enqueuer-land/enqueuer/master/docs/images/symbol1.png"
             alt="enqueuer logo"
             title="Enqueuer Logo">
    </a>
<p><a href=""><img src="https://img.shields.io/npm/dt/enqueuer.svg" alt="npm" title="" /></a><a href="https://travis-ci.org/enqueuer-land/enqueuer"><img src="https://travis-ci.org/enqueuer-land/enqueuer.svg?branch=master" alt="Build Status" title="" /></a>
<a href="https://codeclimate.com/github/enqueuer-land/enqueuer/maintainability"><img src="https://api.codeclimate.com/v1/badges/a4e5c9dbb8983b4b1915/maintainability" alt="Maintainability" title="" /></a> <a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/enqueuer-land/enqueuer.svg" alt="Greenkeeper badge" title="" /></a><a href="https://snyk.io/test/npm/enqueuer"><img src="https://snyk.io/test/npm/enqueuer/badge.svg" alt="Known Vulnerabilities" title="" /></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" title="" /></a></p>

<p><img src="https://raw.githubusercontent.com/enqueuer-land/enqueuer/master/docs/images/fullLogo3.png" alt="enqueuerlogo" title="Enqueuer Giant Logo" /></p>

<hr />

<p>Have you ever struggled with testing multi IPC protocol flows?
Want to ensure that a user journey which involves several steps with different protocols is working properly?
Depending services have become a pain?
Don't you worry anymore. Enqueuer is what you're looking for.</p>

<h3 id="enqueuer" style="padding-left: 0px">1. Enqueuer</h3>

<p>It's <span style="text-decoration: line-through">not just</span> an integration testing tool. It is a platform that provides the following capabilities:<br>
- Support for many protocols out of the box<br>
- Easily mock numerous services to alleviate the headaches of functional and integration tests<br>
- Friendly for developers and non developers<br>
- Built in assertion library to verify response data coming from/going to your services<br>
- Easily extensible behavior through third party <a href="http://github.com/enqueuer-land/plugins-list">plugins</a>, including your own <a href="https://github.com/enqueuer-land/plugin-scaffold">custom ones</a><br> 
- Built in CLI is easy to add to your team's existing CI pipelines<br></p>

<p>Welcome to the enqueuer world.</p>

<h4 id="install_it" style="padding-left: 8px">1.1. install it</h4>

<pre><code><span class="dollar-sign">$</span> npm install --global enqueuer
</code></pre>

<h4 id="create_a_test_file" style="padding-left: 8px">1.2. create a test file</h4>

<p>Something like:</p>

<pre><code>#enqueuer-repo-hit.yml
publishers:
-   type: http
    url: https://github.com/enqueuer-land/enqueuer
    method: GET
    onMessageReceived:
        assertions:
        -   expect: statusCode
            toBeEqualTo: 200
</code></pre>

<p>Pretty simple, hum? Small and concise, how it should be!</p>

<h5 id="run_it" style="padding-left: 16px">1.2.1. run it</h5>

<pre><code><span class="dollar-sign">$</span> enqueuer enqueuer-repo-hit.yml
</code></pre>

<p>What if I want to mock a http server and hit it at the same time, you may ask. Not a big deal for enqueuer lovers:</p>

<pre><code>#http-self-test.yml
publishers:
-   type: http
    url: http://localhost:9085/readme-example
    method: POST
    payload: does enqueuer rock?
    onMessageReceived:
        script: statusCode *= 2
        assertions:
            -   expect: body
                toBeEqualTo: `yes, it does`
            -   expect: statusCode
                toBeGreaterThan: 300
subscriptions:
-   type: http
    endpoint: /readme-example
    port: 9085
    method: POST
    response:
        status: 200
        payload: yes, it does
    onMessageReceived:
        assertions:
        -   expect: message.body
            toContain: `enqueuer`
</code></pre>

<h5 id="run_this_other_one" style="padding-left: 16px">1.2.2. run this other one</h5>

<pre><code><span class="dollar-sign">$</span> nqr http-self-test.yml
</code></pre>

<p>I told you it was simple.
Now go nuts!
It's all yours. Have fun.
Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/">this out</a>, you'll find countless examples. 
Certainly one is what you need.    </p>

<h4 id="if_you_need_more" style="padding-left: 8px">1.3. if you need more</h4>

<pre><code><span class="dollar-sign">$</span> nqr -h
Usage: nqr [options]

Take a look at the full documentation: http://enqueuer-land.github.io/enqueuer

Options:
  -v, --version                             output the version number
  -b, --verbosity &lt;level&gt;                   set verbosity (default: "warn")
  -c, --config-file &lt;path&gt;                  set configurationFile
  -e, --parsers-list [parser]               list available object parsers
  -f, --formatters-description [formatter]  describe report formatters
  -o, --stdout-requisition-output           add stdout as requisition output
  -m, --max-report-level-print &lt;level&gt;      set max report level print
  -p, --protocols-description [protocol]    describe protocols
  -t, --tests-list                          list available tests assertions
  -s, --store [store]                       add variables values to this session (default: [])
  -l, --add-plugin [plugin]                 add plugin (default: [])
  -a, --add-file &lt;file&gt;                     add file to be tested (default: [])
  -A, --add-file-and-ignore-others &lt;file&gt;   add file to be tested and ignore others (default: [])
  -h, --help                                output usage information

Examples:
  <span class="dollar-sign">$</span> nqr --config-file config-file.yml --verbosity error --store key=value
  <span class="dollar-sign">$</span> enqueuer -c config-file.yml test-file.yml --add-file another-test-file.yml -b info
  <span class="dollar-sign">$</span> enqueuer test-file.yml --store someKey=true --store someOtherKey=false
  <span class="dollar-sign">$</span> nqr --protocols-description -s key=value
  <span class="dollar-sign">$</span> nqr -l my-enqueuer-plugin-name -p plugin-protocol
  <span class="dollar-sign">$</span> nqr -p http
  <span class="dollar-sign">$</span> nqr --formatters-description json
</code></pre>

<hr />

<h3 id="components" style="padding-left: 0px">2. Components</h3>

<p>In order to accomplish more than <a href="#create_a_test_file">just hitting enqueuer's repo</a> or doing a <a href="#run_this_other_one">quick self http hit</a>, there are a few things that you'll probably need to know.
Don't worry, it's not too much and, as mentioned earlier, there is a lot of examples <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/">here</a>, just in case. 
There are only three important component concepts: <a href="#requisition">requisitions</a>, <a href="#publisher">publishers</a> and <a href="#subscription">subscriptions</a>.
They work along with each other and are responsible for the full behavior of enqueuer.</p>

<h4 id="requisition" style="padding-left: 8px">2.1. requisition</h4>

<p>Test scenario description. It tells what, when, and how test your applications and services.
Picture it as if it was a collection of <a href="#publisher">publishers</a>, <a href="#subscription">subscriptions</a> and other <a href="#requisition">requisitions</a>. It helps because this is exactly what it is.
As the others components, it has some attributes. All of them are optionals. And it supports multi-level test scenarios out of the box. Yeap, go as recursive as you want.
You don't know some of these attributes values yet? Don't worry, just put a variable there and let enqueuer replace it with the value you set later. 
<a href="#variables">Variable replacements</a> are available through the entire requisition.</p>

<p><strong>name</strong><br>
Describes what the requisition is suppose to do.
Defaults to requisition index.</p>

<pre><code>name: requisition action
</code></pre>

<p><strong>timeout</strong><br>
Defaults to 5000.
Sets in milliseconds how long the requisition waits to expire.
Set to zero or less than zero to run it endlessly.</p>

<pre><code>timeout: 3000
</code></pre>

<p><strong>delay</strong><br>
Defaults to 0. Sets in milliseconds how long the test waits before starting. Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/requisition-delay-iteration.yml">this</a> to get the full idea.</p>

<pre><code>delay: 0
</code></pre>

<p><strong>iterations</strong><br>
Defaults to 1. Sets how many times this test will be executed. Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/requisition-delay-iteration.yml">this</a> and <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/recursion.yml">this</a> to get the full idea.</p>

<pre><code>iterations: 3
</code></pre>

<p><strong>ignore</strong><br>
Defaults to false. Tells to enqueuer that this requisitions should be skipped. Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/ignore.yml">this</a> to see it working.</p>

<pre><code>ignore: true
</code></pre>

<p><strong>publishers</strong><br>
List of <a href="#publisher">publishers</a></p>

<pre><code>publishers:
- name: some publisher name
  type: http
- type: tcp
</code></pre>

<p><strong>subscriptions</strong><br>
List of <a href="#subscription">subscriptions</a></p>

<pre><code>subscriptions:
- name: some subscription name
  type: udp
- name: another subscription name
  type: file
</code></pre>

<p><strong>requisitions</strong><br>
A list of child scenarios. List of <a href="#requisition">requisitions</a>.
Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/recursion.yml">this</a> example, it may help.</p>

<pre><code>requisitions:
- name: some requisition name
  iterations: 2
- name: another requisition name
  delay: 200
</code></pre>

<h5 id="events" style="padding-left: 16px">2.1.1. events</h5>

<p>Available events are described <a href="#event">here</a>. A <code>requisition</code> object is available to access and change its attributes.</p>

<pre><code>name: my name
onInit:
  script: requisition.delay = 3000;
  assertions:
  - expectToBeDefined: requisition.name
onFinish:  
  assertions:
  - expectToBeDefined: requisition.name
</code></pre>

<h4 id="publisher" style="padding-left: 8px">2.2. publisher</h4>

<p>A publisher action is triggered by enqueuer itself. It <strong>acts</strong> whereas a <a href="#subscription">subscription</a> <strong>reacts</strong>.
It publishes something, it writes, it enqueues, hits and endpoint... These kinds of actions.
Every publisher has its own properties, depending on its protocol and implementation, but usually, they all have these properties.</p>

<p><strong>name</strong><br>
Defaults to publisher index.
Describes what the publisher is supposed to do.</p>

<pre><code>name: publisher action
</code></pre>

<p><strong>type</strong><br>
Mandatory. Key tag to identify which publisher will be instantiated</p>

<pre><code>type: http
</code></pre>

<p><strong>payload</strong><br>
Since a publisher usually publishes something, it's very likely you have to set a value here.
The message itself that will be send through this IPC protocol. Be it a string, a number, a boolean value or even whole objects.</p>

<pre><code>payload: value
</code></pre>

<p><strong>ignore</strong><br>
Defaults to false. Tells to enqueuer that this publisher should be skipped. Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/ignore.yml">this</a> to see it working.</p>

<pre><code>ignore: true    
</code></pre>

<h5 id="events" style="padding-left: 16px">2.2.1. events</h5>

<p>Available events are described <a href="#event">here</a>. A <code>publisher</code> object is available to access and change its attributes.
Depending on the protocol and its implementation, such as <code>http</code> and <code>tcp</code>, there may exist a <code>onMessageReceived</code> event and a special object given <code>message</code>. 
On the other hand, an asynchronous protocol, like: <code>udp</code> and <code>amqp</code>, usually does not provide it. </p>

<pre><code>onInit:
  script: publisher.ignore = false
  assertions:
  - expectToBeDefined: publisher.type
onMessageReceived: #Provided in synchronous protocols  
  assertions:
  - expectToBeDefined: message
onFinish:  
  assertions:
  - expectToBeDefined: publisher.type
</code></pre>

<h4 id="subscription" style="padding-left: 8px">2.3. subscription</h4>

<p>A subscription is an "under demand" event. It <strong>reacts</strong> whereas a <a href="#publisher">publisher</a> <strong>acts</strong>.
It consumes something, it reads, it dequeues, gets hit... These kinds of actions.
This means that it is not triggered by enqueuer itself. 
Rather than that, enqueuer waits on an external event to be triggered and then it asserts against the message that was passed to the subscription.
Every subscription has its own properties, depending on its protocol and implementation. But they all, usually, have these properties. </p>

<p><strong>name</strong><br>
Defaults to subscription index.
Describes what the subscription is supposed to do.</p>

<pre><code>name: subscription action
</code></pre>

<p><strong>type</strong><br>
Mandatory. Key tag to identify which subscription will be instantiated</p>

<pre><code>type: http
</code></pre>

<p><strong>avoid</strong><br>
Identifies whether or not this subscription should not receive any message. Defaults to false.
If set and a message is received a failing test will be generated.
Take a look at <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/avoid.yml">this</a> to see it working.
On the other hand, when it's false and no message is received in a given timeout. The subscription is valid.</p>

<pre><code>avoid: false
</code></pre>

<p><strong>timeout</strong><br>
Sets in milliseconds how long the subscription waits to expire. Defaults to 3000.
Set to zero or less than zero to run it endlessly.</p>

<pre><code>timeout: 3000
</code></pre>

<p><strong>ignore</strong><br>
Defaults to false. Tells to enqueuer that this subscription should be skipped. Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/ignore.yml">this</a> to see it working.</p>

<pre><code>ignore: true    
</code></pre>

<h5 id="events" style="padding-left: 16px">2.3.1. events</h5>

<p>Available events are described <a href="#event">here</a>. A <code>subscription</code> object is available to access and change its attributes.  </p>

<pre><code>onInit:
  script: subscription.avoid = false;
  assertions:
  - expectToBeDefined: subscription.type
onMessageReceived:  
  assertions:
  - expectToBeDefined: message
onFinish:  
  assertions:
  - expectToBeDefined: subscription.type
</code></pre>

<hr />

<h3 id="event" style="padding-left: 0px">3. Event</h3>

<p>Events are hook methods executed by enqueuer when an action occurs on publishers, subscriptions or requisitions.
This is where you'll write your tests. In its <code>assertions</code> field.
Depending on the event's owner, there may be a variable called <code>publisher</code>, <code>subscription</code> or <code>requisition</code>.
You're free to explore them however you want, even doing things like this:</p>

<pre><code>publisher.parent.subscriptions[0].timeout = 1000;
</code></pre>

<h4 id="hooks" style="padding-left: 8px">3.1. hooks</h4>

<p>There are three hook events available:</p>

<p><strong>onInit</strong><br>
Available in requisitions, publishers and subscriptions. It gets executed as soon as the test is initialized.</p>

<p><strong>onFinish</strong><br>
Available in requisitions, publishers and subscriptions. It gets executed when the test is about to finish.
As available parameter is <code>elapsedTime</code>, with elapsed time, in milliseconds, since the instantiation of this component. </p>

<p><strong>onMessageReceived</strong><br>
Available in every subscription and in publishers that provide synchronous properties. 
It gets executed when the subscription or publisher receives a message.
A <code>message</code> object is available having all of attributes returned from the received message.
Depending on the protocol implementation, there'll be additional objects to this hook.
For instance, in the built-in http publisher implementation, there's a <code>statusCode</code>, <code>headers</code> and a <code>body</code> among others, and the subscription implementation has <code>body</code>, <code>query</code>, <code>params</code> and <code>headers</code>, among other variables.
<code>elapsedTime</code> is also available here, with elapsed time, in milliseconds, since the instantiation of this component.</p>

<h4 id="fields" style="padding-left: 8px">3.2. fields</h4>

<p>Every hook object has 3 properties:</p>

<p><strong>script</strong><br>
Javascript code snippet executed when the event is triggered.<br>
Yeah, I mean it. See it <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/crypto-require.yml">it</a> by yourself.
But be careful, with great power comes great responsibility.</p>

<p><strong>store</strong><br>
Data to be persisted across requisitions<br>
<strong>assertions</strong><br>
Array of assertions. Run <code><span class="dollar-sign">$</span> nqr -t</code> to see available ones.</p>

<pre><code>onInit:
  script: variableIdentifier = 'string value'

  assertions:
  - expect: variableIdentifier
    toBeEqualTo: `string value`

onMessageReceived:
  script: |-
    message += 3;
    console.log(`Message received plus 3 is: <span class="dollar-sign">$</span>{message}`);

  store:
    key: message

  assertions:
  - name: anyValue #optional
    expect: message
    toBeEqualTo: store.key
  - expect: message + 3
    toBeGreaterThan: 3
</code></pre>

<h4 id="example" style="padding-left: 8px">3.3. example</h4>

<p>Check <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/hooks.yml">this</a> test file to see it in practice.</p>

<hr />

<h3 id="configuration_file" style="padding-left: 0px">4. Configuration File</h3>

<p>To save yourself some time, a configuration file may be used.
Configuration files tell enqueuer which tests will be executed, log-level, and which output test report files should be generated.
This file tells how enqueuer should be executed</p>

<p><strong>files</strong><br>
Requisition file names or glob. Enqueuer runs every file that matches an element value.</p>

<pre><code>files:
- 1.yml
- 2.yml
- *.json
</code></pre>

<p><strong>parallel</strong><br>
Requisition files should be executed in parallel mode. The requisition file itself is still sequential, but the files are executes in parallel.</p>

<pre><code>parallel: true (false by default)
</code></pre>

<p><strong>log-level</strong><br>
Defines how information are logged in the console. Accepted values are: trace; debug; info; warning (default); error; and fatal.</p>

<pre><code>log-level: trace
</code></pre>

<p><strong>max-report-level-print</strong>/
The deepest level of report to be printed to the console. Defaults to 1.</p>

<pre><code>max-report-level-print: 2
</code></pre>

<p><strong>plugins</strong><br>
List of in plugins used by the test scenarios. You can <a href="https://github.com/enqueuer-land/plugins-list#enqueuer-plugins">check them out</a> or <a href="https://github.com/enqueuer-land/plugin-scaffold">write your own</a>. </p>

<pre><code>plugins:
- enqueuer-plugin-amqp 
- enqueuer-plugin-ws 
- enqueuer-plugin-mqtt
- enqueuer-plugin-html-report
</code></pre>

<p><strong>outputs</strong><br>
Once enqueuer runs every requisition, it compiles a summary and sends it to every publisher listed in output.
An important thing to note is that every available report publisher is available here.
You can run <code><span class="dollar-sign">$</span> nqr -p</code> to check available report publishers. <br>
Another important thing to note is the <code>format</code> value. By default a <code>json</code> summary is generated, but you can change it to whatever format you would like.
You can run <code><span class="dollar-sign">$</span> nqr -f</code> to check available formats or event <a href="https://github.com/enqueuer-land/plugin-scaffold">write your own</a></p>

<pre><code>outputs:
- type: file
  format: json (default)
  filename: output/examples.json
- type: file
  format: yml
  filename: output/examples.yml
- type: standard-output (default)
  format: console
</code></pre>

<p><strong>store</strong><br>
Values defined here use the 'key: value' pattern and are available to every test scenario throughout the entire execution</p>

<pre><code>store:
  variableKey: "my value" # Defines 'variableKey' key and its value 'my value'. 

  'separated key': 6

  object: # You can even define whole objects here:
    first: first value
    second:
      nested: thing
</code></pre>

<h4 id="example" style="padding-left: 8px">4.1. example</h4>

<p><a href="https://github.com/enqueuer-land/enqueuer/blob/master/conf/config-example.yml">Here's</a> a complete example of a configuration file.</p>

<hr />

<h3 id="variables" style="padding-left: 0px">5. Variables</h3>

<p>Providing power and flexibility, enqueuer allows you to use variables placeholder replacement.
That's why there is a <code>store</code> field and you'll see a lot of <code>&lt;&lt;</code> and <code>{{</code> being used in the examples files.
It works as simple as this:</p>

<pre><code>name: my name is &lt;&lt;variableKey&gt;&gt;
</code></pre>

<p>Every time enqueuer sees these kind of notations, it searches in its store for a key/value pair like:</p>

<pre><code>variableKey: `enqueuer`
</code></pre>

<p>Then, when enqueuer parses the original map, it gets translated to this:</p>

<pre><code>name: my name is enqueuer
</code></pre>

<h4 id="default_values" style="padding-left: 8px">5.1. default values</h4>

<p>By default, every ENV_VAR set is loaded automatically to the store. Check <a href="https://github.com/enqueuer-land/enqueuer/blob/64198b944849df2cb5bd23cbfb6d0a224d6b5167/examples/store.yml#L11">this example</a>.</p>

<h4 id="setting_a_variable" style="padding-left: 8px">5.2. setting a variable</h4>

<p>There are a few ways to set a value in the store.</p>

<h5 id="configuration_file" style="padding-left: 16px">5.2.1. configuration file</h5>

<p>Configuration file's store as you can see <a href="https://github.com/enqueuer-land/enqueuer/blob/64198b944849df2cb5bd23cbfb6d0a224d6b5167/conf/singleRun.yml#L27">here</a></p>

<h5 id="command_line" style="padding-left: 16px">5.2.2. command line</h5>

<p>A command line argument <code><span class="dollar-sign">$</span> nqr --store key=value -s anotherVariable=true</code></p>

<h5 id="event" style="padding-left: 16px">5.2.3. event</h5>

<p>Dynamically set it through an event. 
Be it in its <a href="https://github.com/enqueuer-land/enqueuer/blob/64198b944849df2cb5bd23cbfb6d0a224d6b5167/examples/store.yml#L5">script</a> field or straight through its store <a href="https://github.com/enqueuer-land/enqueuer/blob/64198b944849df2cb5bd23cbfb6d0a224d6b5167/examples/store.yml#L3">field</a>. </p>

<h4 id="using_it" style="padding-left: 8px">5.3. using it</h4>

<p>There are two ways of using them:</p>

<h5 id="non_js_code_snippet" style="padding-left: 16px">5.3.1. non js code snippet</h5>

<p>The easiest one is to type <code>&lt;&lt;variableKey&gt;&gt;</code> or <code>{{variableKey}}</code> where you want it to be replaced in a test file, as you can see <a href="https://github.com/enqueuer-land/enqueuer/blob/64198b944849df2cb5bd23cbfb6d0a224d6b5167/examples/store.yml#L8">here</a></p>

<h5 id="js_code_snippet" style="padding-left: 16px">5.3.2. js code snippet</h5>

<p>Using the <code>store</code> object. It's attributes are the keys and their values are their respective values. 
Therefore, you're free to use <code>store.variableKey</code>, <code>console.log(store.variableKey);</code> or <code>console.log(2 * store['separated key']);</code> and get them.
Like <a href="https://github.com/enqueuer-land/enqueuer/blob/64198b944849df2cb5bd23cbfb6d0a224d6b5167/examples/store.yml#L5">this</a> one.</p>

<h4 id="example" style="padding-left: 8px">5.4. example</h4>

<p>Check out <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/variables.yml">this test example</a> test to see it working.</p>

<hr />

<h3 id="content_file_injection" style="padding-left: 0px">6. Content File Injection</h3>

<p>You are able to inject file content into a requisition/publisher/subscription field.</p>

<pre><code>file: &lt;&lt;file://misc/file-content.yml&gt;&gt;
</code></pre>

<p>Other than that, enqueuer can read it parse its content as an object using this familiar syntax: <code>&lt;&lt;tag://path/to/file?query=value&amp;other=true&gt;&gt;</code>.</p>

<pre><code>requisition:
    json: &lt;&lt;json://misc/file-content.json&gt;&gt;
    yml: &lt;&lt;yml://misc/file-content.yml&gt;&gt;
    csv: &lt;&lt;csv://misc/file-content.csv?header=true&amp;delimiter=;&gt;&gt;
    file: &lt;&lt;file://misc/file-content.yml&gt;&gt;
</code></pre>

<p>Once the object is parsed, your free to use it as a regular object in any event</p>

<pre><code>onInit:
    script: console.log(requisition.yml.deep.field);
onFinish:
    assertions:
    -   expect: json.first
        toBeEqualTo: csv[0].first 
</code></pre>

<p>It get's event better. 
Due its fantastic plugin architecture design, you can extend its default modules and use any of <a href="https://github.com/enqueuer-land/plugins-list#enqueuer-plugins">these</a> plugins or event <a href="https://github.com/enqueuer-land/plugin-scaffold">write your own</a> to parse however you want. <br>
Run <code><span class="dollar-sign">$</span> nqr -e</code> to see available ones.</p>

<h4 id="example" style="padding-left: 8px">6.1. example</h4>

<p>Check out <a href="https://github.com/enqueuer-land/enqueuer/blob/master/examples/file-placeholder.yml">this test example</a> test to get a full picture of it.</p>

<hr />

<h3 id="requisition_flow" style="padding-left: 0px">7. Requisition Flow</h3>

<p><img src="https://raw.githubusercontent.com/enqueuer-land/enqueuer/master/docs/images/nqrFlow.png" alt="enqueuerInstanceFlow" title="Enqueuer Instance Flow" /></p>

<p><a href="https://nodei.co/npm/enqueuer/"><img src="https://nodei.co/npm/enqueuer.png?downloads=true&amp;downloadRank=true&amp;stars=true" alt="NPM" title="" /></a></p>

<h3 id="open_source" style="padding-left: 0px">8. Open source</h3>

<h4 id="contributing" style="padding-left: 8px">8.1. Contributing</h4>

<p>We, and by 'we' I really mean 'I', are very opened to pull requests in general.
As long as they make sense and add value to the product, you're free to go.
We mean it, do it. Even if it's a type fix in this README file. Go ahead.
Just make sure it's not breaking anything running <code><span class="dollar-sign">$</span> npm run all</code> and then submit it.
If you like it but don't want to waste time creating a PR, no problem either. Create an issue. 
Or, even easier, git it a github star. It's cheap and it doesn't hurt anyone.</p>

<h4 id="license" style="padding-left: 8px">8.2. license</h4>

<p>MIT</p></div>

</div>

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"
        integrity="sha384-pjaaA8dDz/5BgdFUPX6M/9SUZv4d12SUPF0axWc+VRZkx5xU3daN+lYb49+Ax+Tl"
        crossorigin="anonymous"></script>

<!--<script type="application/javascript"-->
        <!--src="https://raw.githubusercontent.com/enqueuer-land/enqueuer/master/misc/html/highlight/highlight.pack.js"-->
        <!--crossorigin="anonymous"></script>-->

<!--<script>-->
    <!--// hljs.configure({languages: ['yaml', 'shell', 'shell']});-->
    <!--hljs.initHighlightingOnLoad();-->
<!-- </script>-->

<script>
    const enqueuerLogo = $("[title='Enqueuer Giant Logo']");
    enqueuerLogo.css({'max-width': '80vw', padding: '15vh 0 15vh'});
    enqueuerLogo.parent().css({'text-align': 'center'});

    const enqueuerFlow = $("[title='Enqueuer Instance Flow']");
    enqueuerFlow.css({'max-width': '90%'});
    enqueuerFlow.parent().css({'text-align': 'center'});


    // const yamlCode = $("pre code");
    // yamlCode.parent().addClass('yaml');

    const npmBigBadge = $("[href='https://nodei.co/npm/enqueuer/']");
    npmBigBadge.parent().css({'text-align': 'center'});

    const npmBadges = $("[href='https://travis-ci.org/enqueuer-land/enqueuer']");
    npmBadges.parent().css({'text-align': 'center'});
    npmBadges.parent().addClass("npm-badges-container");
</script>

<!--<script async defer src="https://buttons.github.io/buttons.js"></script>-->

</body>
</html>
