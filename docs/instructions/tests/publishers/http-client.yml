#Every publisher has its own properties. But they all have properties defined in /docs/publishers/publisher.yml

#IPC protocol type. It has to be 'http-client' or 'https-client.
type: http-client

#Url to be hit
url: http://localhost:23075/enqueuer/idStuff?query=123

#Http method that will be used: POST, GET, PUT, PATCH, OPTION, DELETE etc...
method: POST

#Optional. Headers to be defined in the requisition
headers:
  content-type: application/json

#Optional. Automatically sets the 'authorization' header value following authentication specification.
authentication:
  #'basic' is the only authentication method currently supported
  basic:
    user: user
    password: password

#Optional. Given that HTTP is a synchronous protocol, you have the possibility to run codes whenever a response is received.
#Javascript code snippet executed as soon as the publisher receives a response.
#If a value is set and no message is received a failing test will be registered.
#Available objects are: publisher (/docs/instructions/tests/publisher/amqp.yml), tester (/docs/instructions/tests/tester.yml), message and store.
onMessageReceived: |- #|- is a yml multiline value identifier
  tester.toBeEqualTo('status code', JSON.parse(message).statusCode, 321);
  tester.toBeEqualTo('body', JSON.parse(message).body, 'body');