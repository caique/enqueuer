name: runnableUds
timeout: 10000
startEvent:
    publisher:
        name: UdsPublisher
        timeout: 8000
        type: replaced
        onInit:
            script: publisher.type='uds';
        path: /tmp/inUnix.sock
        payload:

            #inner requisition
            name: innerRequisitionUds
            startEvent:
                publisher:
                    name: PubsUds
                    type: uds
                    path: /tmp/loopUnix.sock
                    payload: 100
            subscriptions:
            -   type: uds
                name: runnableSubsUds
                path: /tmp/loopUnix.sock
                onMessageReceived:
                    store:
                        innerPayload: payload
                    assertions:
                    -   name: Works
                        expect: payload
                        toBeEqualTo: 100

        #end
        onMessageReceived:
            assertions:
            -   name: Test name
                expectToBeDefined: message
